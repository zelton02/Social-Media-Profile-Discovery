## Social Media Discovery Project

A lightweight tool to discover and fill in missing social media profile links from a CSV of contacts. It can run offline (no API calls) or use the Apify Social Media Finder actor for real lookups when an API token is provided.

### Quick start

```bash
conda env create -f environment.yml
conda activate social-media-discovery
python social_media_finder.py
```

Output is written to `social_media_profiles_updated.csv` in the project root.

## Requirements

- Conda (Miniforge/Mambaforge/Miniconda/Anaconda)
- Python 3.11 (managed by Conda via `environment.yml`)

## Setup

1) Create the environment

```bash
conda env create -f environment.yml
```

2) Activate the environment

```bash
conda activate social-media-discovery
```

3) (Optional) Enable `.env` loading for local development

If you want the script to automatically load variables from `local.env`, install `python-dotenv` into the Conda env:

```bash
conda install -n social-media-discovery -c conda-forge python-dotenv
```

Alternatively, you can export environment variables in your shell without installing anything extra.

## Configure API access (optional but recommended)

The script can work in two modes:
- Without API token: runs offline and skips network lookups.
- With API token: uses Apify Social Media Finder for real profile discovery.

To use the API, set `APIFY_API_TOKEN` via one of the following:

- Add it to `local.env` at the project root (loaded if `python-dotenv` is installed):
  ```
  APIFY_API_TOKEN=your_real_token_here
  ```

- Or export it in your shell before running:
  - macOS/Linux:
    ```bash
    export APIFY_API_TOKEN=your_real_token_here
    ```
  - Windows PowerShell:
    ```powershell
    setx APIFY_API_TOKEN "your_real_token_here"
    ```

## Usage

1) Ensure your input CSV is available. By default, the script reads:

- `upload/GankNow-CopyofSampleLeadList-Sheet1.csv`

You can replace that file or modify `social_media_finder.py` to point to a different input.

2) Run the script

With the environment activated:

```bash
python social_media_finder.py
```

Without activating the environment:

```bash
conda run -n social-media-discovery python /Users/zhiheng.ang/personal/social_media_discovery_project/social_media_finder.py
```

3) Review the output

- The script writes `social_media_profiles_updated.csv` to the project root.

## Project structure

```
social_media_discovery_project/
  CONDA_SETUP.md                          # Detailed Conda onboarding guide
  environment.yml                         # Conda env spec (python=3.11, apify-client)
  local.env                               # Local env vars (e.g., APIFY_API_TOKEN); do not commit secrets
  README.md                               # You are here
  social_media_finder.py                  # Main script; reads input CSV, enriches, writes output
  social_media_profiles_test.csv          # Example CSV (alternate sample)
  social_media_profiles_updated.csv       # Output CSV generated by the script
  social_media_discovery_report.md        # Notes/report
  social_media_discovery_validation_report.md # Validation notes/report
  upload/
    GankNow-CopyofSampleLeadList-Sheet1.csv # Default input sample used by the script
```

## Updating dependencies

After editing `environment.yml`:

```bash
conda env update -f environment.yml --prune
```

Optionally export updates back to the file (e.g., after interactive installs):

```bash
conda env export --no-builds | sed '/^prefix: /d' > environment.yml
```

## Troubleshooting

- Conda not found: install Miniforge or run `conda init` and restart your shell.
- Slow solves on Apple Silicon: prefer Miniforge/Mambaforge or use `mamba`.
- Token not detected: ensure `APIFY_API_TOKEN` is set via `local.env` (with `python-dotenv`) or shell export.
- Permission issues on CSV: ensure the input file exists and the output path is writable.

## Notes

- Do not commit real API tokens. Keep `local.env` local and untracked.
- The discovery logic uses Apifyâ€™s `tri_angle/social-media-finder` when a token is present; otherwise, it will skip network calls.
# Social Media Profile Finder Script

This script helps to discover and fill in missing social media profiles for users from a given CSV file. It's designed to be easily extendable with real social media discovery APIs.

## Setup with Conda (Recommended)

1. Ensure you have Conda (or Mambaforge/Miniforge/Miniconda/Anaconda) installed.
2. Create the environment from `environment.yml`:

    ```bash
    conda env create -f environment.yml
    ```

3. Activate the environment:

    ```bash
    conda activate social-media-discovery
    ```

4. (Optional) If you update dependencies, export them back to `environment.yml`:

    ```bash
    conda env export --no-builds | sed '/^prefix: /d' > environment.yml
    ```

## How to Use

1.  **Prepare your CSV file**: Ensure your CSV file has columns for 'Name', 'Email', and the social media platforms you want to find (e.g., 'Facebook', 'Twitter', 'Instagram', 'Twitch', 'Youtube', 'Tiktok'). A sample file `GankNow-CopyofSampleLeadList-Sheet1.csv` was used for development.

2.  **Run the script** (inside the activated Conda env): Execute the `social_media_finder.py` script using Python 3.

    ```bash
    python3 social_media_finder.py
    ```

3.  **Output**: The script will generate a new CSV file named `social_media_profiles_updated.csv` in the same directory, with the discovered social media profiles filled in.

## Integrating Real Social Media Discovery APIs

The discovery logic in `social_media_finder.py` can be replaced or extended to use real social media discovery APIs.

Here are some recommended services:

*   **Apify Social Media Finder**: Offers APIs to search for public social media profiles.
*   **SEON**: Provides tools to scan various platforms and social networks.
*   **Proxycurl API**: Can be used to find social media profiles from email addresses.
*   **Orbitly**: Helps uncover social profiles and emails.

**Steps to Integrate an API:**

1.  **Choose an API**: Select a social media discovery API that best suits your needs.
2.  **Sign up and get API Key**: Register for an account with the chosen service and obtain your API key.
3.  **Install necessary libraries**: If the API requires a specific Python client library, install it in the Conda env (e.g., `pip install requests`).
4.  **Modify discovery logic** (e.g., `find_social_media_with_apify`):
    *   Add or replace the API call to your chosen service, passing `name` and `email` where applicable.
    *   Parse the response to extract the social media profile URL for the given `platform`.
    *   Return the found URL or `None` if no profile is found.

**Example (Conceptual - replace with actual API calls):**

```python
import requests

def find_social_media_profile(name, email, platform):
    # Example for a hypothetical API
    api_key = "YOUR_API_KEY"
    api_endpoint = "https://api.example.com/social_lookup"

    params = {
        "name": name,
        "email": email,
        "platform": platform,
        "api_key": api_key
    }

    try:
        response = requests.get(api_endpoint, params=params)
        response.raise_for_status()  # Raise an exception for HTTP errors
        data = response.json()
        return data.get("profile_url") # Assuming API returns a 'profile_url' field
    except requests.exceptions.RequestException as e:
        print(f"API call failed: {e}")
        return None
```

## Limitations

*   The current script uses placeholder logic for social media discovery. Real-world implementation requires integration with third-party APIs.
*   The accuracy and completeness of discovered profiles depend heavily on the chosen social media discovery API and the public availability of information.

